<section>
    <h2 class="reports-title m-b">{{'Admin.Js.OrderAnalysis.Orders'|translate}}</h2>
    <div class="reports-graphic reports-graphic-custom">
        <div class="reports-graphic-section">
            <div class="reports-graphic-block">
                <div>{{'Admin.Js.OrderAnalysis.IncomeAllOrders'|translate}}</div>
                <div style="font-size: 16px; font-weight: 600">{{$ctrl.Data.sumAllOrders}}</div>
            </div>
            <div class="reports-graphic-block">
                <div>{{'Admin.Js.OrderAnalysis.NumberOrders'|translate}}</div>
                <div style="font-size: 16px; font-weight: 600">{{$ctrl.Data.countOrder}}</div>
            </div>
            <div class="reports-graphic-block">
                <div>{{'Admin.Js.OrderAnalysis.AverageBill'|translate}}</div>
                <div style="font-size: 16px; font-weight: 600">{{$ctrl.Data.average}}</div>
            </div>
        </div>
    </div>
</section>

<section class="reports-graphic-card">
    <h2 class="reports-title">{{'Admin.Js.OrderAnalysis.MethodsOfPayment'|translate}}</h2>
    <div class="reports-graphic">
        <canvas
            id="payments"
            class="chart chart-horizontal-bar"
            chart-options="$ctrl.chartOptions"
            chart-data="$ctrl.Payments.Data"
            chart-labels="$ctrl.Payments.Labels"
            chart-series="$ctrl.Payments.Series"
            chart-colors="$ctrl.Payments.Colors"></canvas>
    </div>
</section>

<section class="reports-graphic-card" is-mobile>
    <h2 class="reports-title">{{'Admin.Js.OrderAnalysis.DeliveryMethods'|translate}}</h2>
    <div class="row col-xs">
        <switch-on-off
            checked="$ctrl.ShippingsGroupByName"
            on-change="$ctrl.onChangeShippingsGroupByNameOnOff(checked)"
            data-id="ShowByName"></switch-on-off>

        <label for="ShowByName" class="m-l-sm control-label">{{'Admin.Js.OrderAnalysis.DeliveryMethodsShowByName'|translate}}</label>
    </div>
    <div class="col-xs m-t-xs">
        <div class="row">
            <div ng-class="{'m-b-sm' : isMobile.value}" class="col-xs-slim p-l-n">
                <div ng-class="{'m-b-xs' : isMobile.value}">{{'Admin.Js.OrderAnalysis.DeliveryDateFrom'|translate}}</div>

                <div>
                    <div
                        class="input-group"
                        ng-flatpickr
                        fp-opts="{dateFormat: 'd.m.Y', startDateFormat:'Y-m-d', wrap: true}"
                        fp-on-change="$ctrl.onChangeShippingsDate()">
                        <span class="flatpickr-custom-wrap">
                            <input type="text" class="form-control input-alt" ng-flatpickr-input ng-model="$ctrl.deliveryDateFrom" />
                            <span class="flatpickr-custom-clear" data-close data-clear>
                                <i class="fas fa-times"></i>
                            </span>
                        </span>
                        <span class="input-group-addon" data-toggle>
                            <i class="fas fa-calendar-alt"></i>
                        </span>
                    </div>
                </div>
            </div>
            <div ng-class="{'p-l-n' : isMobile.value}" class="col-xs-slim">
                <div ng-class="{'m-b-xs' : isMobile.value}">{{'Admin.Js.OrderAnalysis.DeliveryDateTo'|translate}}</div>
                <div>
                    <div
                        class="input-group"
                        ng-flatpickr
                        fp-opts="{dateFormat: 'd.m.Y', startDateFormat:'Y-m-d', wrap: true}"
                        fp-on-change="$ctrl.onChangeShippingsDate()">
                        <span class="flatpickr-custom-wrap">
                            <input type="text" class="form-control input-alt" ng-flatpickr-input ng-model="$ctrl.deliveryDateTo" />
                            <span class="flatpickr-custom-clear" data-close data-clear>
                                <i class="fas fa-times"></i>
                            </span>
                        </span>
                        <span class="input-group-addon" data-toggle>
                            <i class="fas fa-calendar-alt"></i>
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <div class="reports-graphic">
            <canvas
                id="shippings"
                class="chart chart-horizontal-bar"
                chart-data="$ctrl.Shippings.Data"
                chart-labels="$ctrl.Shippings.Labels"
                chart-series="$ctrl.Shippings.Series"
                chart-colors="$ctrl.Shippings.Colors"></canvas>
        </div>
    </div>
</section>

<section class="reports-graphic-card">
    <h2 class="reports-title">{{'Admin.Js.OrderAnalysis.OrderStatuses'|translate}}</h2>
    <div class="reports-graphic">
        <canvas
            id="statuses"
            class="chart chart-horizontal-bar"
            chart-data="$ctrl.Statuses.Data"
            chart-labels="$ctrl.Statuses.Labels"
            chart-series="$ctrl.Statuses.Series"
            chart-colors="$ctrl.Statuses.Colors"></canvas>
    </div>
</section>

<section class="reports-graphic-card">
    <h2 class="reports-title">{{'Admin.Js.OrderAnalysis.WaysOfOrdering'|translate}}</h2>
    <div class="reports-graphic">
        <canvas
            id="sources"
            class="chart chart-horizontal-bar"
            chart-data="$ctrl.Sources.Data"
            chart-labels="$ctrl.Sources.Labels"
            chart-series="$ctrl.Sources.Series"
            chart-colors="$ctrl.Sources.Colors"></canvas>
    </div>
</section>

<section class="reports-graphic-card">
    <h2 class="reports-title">{{'Admin.Js.OrderAnalysis.RepeatedOrders'|translate}}</h2>
    <div class="reports-graphic">
        <canvas
            class="chart chart-line"
            chart-data="$ctrl.RepeatOrders.Data"
            chart-labels="$ctrl.RepeatOrders.Labels"
            chart-series="$ctrl.RepeatOrders.Series"
            chart-colors="$ctrl.RepeatOrders.Colors"></canvas>
    </div>
</section>
